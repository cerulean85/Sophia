# 법적 보류

- 법적 보류(Legal Hold)는 법적 분쟁이나 조사와 관련된 데이터를 보존하기 위해 사용되는 조치
- 데이터의 삭제나 변경을 방지하여 증거로서의 가치를 유지함

## 주요 기능 및 특징
- 데이터 보존
  - 법적 분쟁이나 조사와 관련된 데이터를 보존하여 삭제나 변경을 방지함
  - 데이터의 무결성을 유지하여 증거로서의 가치를 보존함

- 변경 및 삭제 방지
  - 법적 보류가 적용된 데이터는 변경되거나 삭제될 수 없음
  - 데이터의 무결성을 유지하여 법적 요구 사항을 충족함

- 법적 요구 사항 준수
  - 법적 보류는 법적 요구 사항을 준수하기 위해 필수적인 조치
  - 법적 분쟁이나 조사에서 요구되는 데이터를 보존하여 법적 책임을 다함

## 구성
- 법적 보류 요청: 법적 분쟁이나 조사와 관련된 데이터를 보존하기 위한 요청
- 데이터 보존 정책: 법적 보류 요청에 따라 데이터를 보존하기 위한 정책
- 데이터 보존 시스템: 법적 보류가 적용된 데이터를 보존하고 관리하는 시스템

## 작동 방식
1. 법적 분쟁이나 조사와 관련된 데이터에 대해 법적 보류 요청이 발생함
2. 데이터 보존 정책에 따라 해당 데이터에 법적 보류가 적용됨
3. 법적 보류가 적용된 데이터는 변경되거나 삭제될 수 없음
4. 법적 분쟁이나 조사가 종료되면 법적 보류가 해제됨

## 다른 서비스와의 연관성
- Amazon S3: 객체 잠금(Object Lock) 기능을 사용하여 S3 버킷의 데이터를 법적 보류 상태로 설정할 수 있음
- AWS Backup: 백업 데이터를 법적 보류 상태로 설정하여 보존할 수 있음
- AWS CloudTrail: 법적 보류와 관련된 활동을 모니터링하고 감사할 수 있음

## 사용 사례
- 법적 분쟁에서의 증거 보존
  - 예: 법적 분쟁과 관련된 이메일, 문서 등의 데이터를 보존
- 규제 준수
  - 예: 금융 기관에서 법적 요구 사항을 준수하기 위해 거래 데이터를 보존
- 내부 조사
  - 예: 내부 감사나 조사와 관련된 데이터를 보존

## 결론
- 법적 보류는 법적 분쟁이나 조사와 관련된 데이터를 보존하기 위한 필수적인 조치
- 데이터의 무결성을 유지하고 법적 요구 사항을 준수하기 위해 사용됨

## 예제 코드
```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": "s3:PutObjectRetention",
      "Resource": "arn:aws:s3:::example-bucket/*",
      "Condition": {
        "StringEquals": {
          "s3:x-amz-object-lock-legal-hold": "ON"
        }
      }
    }
  ]
}
```


# 특정 사용자에게만 법적 보류를 부여하는 방법

- 특정 사용자에게만 법적 보류 권한을 부여하려면 IAM 정책을 사용하여 해당 사용자에게 필요한 권한을 부여할 수 있음
- Amazon S3의 객체 잠금(Object Lock) 기능을 사용하여 법적 보류를 설정할 수 있음

## 주요 기능 및 특징
- IAM 정책을 사용하여 특정 사용자에게만 법적 보류 권한을 부여할 수 있음
- 법적 보류 권한을 가진 사용자는 S3 객체에 법적 보류를 설정할 수 있음

## 구성
- IAM 사용자 또는 역할 생성
- IAM 정책 작성 및 적용
- S3 버킷에 객체 잠금(Object Lock) 기능 활성화

## 작동 방식
1. IAM 사용자 또는 역할을 생성함
2. 특정 사용자에게 법적 보류 권한을 부여하는 IAM 정책을 작성함
3. 작성한 IAM 정책을 사용자 또는 역할에 적용함
4. S3 버킷에 객체 잠금(Object Lock) 기능을 활성화함
5. 법적 보류 권한을 가진 사용자가 S3 객체에 법적 보류를 설정함

## 예제 코드

### 1. IAM 정책 작성
```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "s3:PutObjectRetention",
        "s3:PutObjectLegalHold"
      ],
      "Resource": "arn:aws:s3:::example-bucket/*"
    }
  ]
}
```

### 2. IAM 사용자 또는 역할에 정책 적용
- AWS Management Console, AWS CLI, 또는 AWS SDK를 사용하여 작성한 정책을 사용자 또는 역할에 적용

### 3. S3 버킷에 객체 잠금(Object Lock) 기능 활성화
- S3 버킷 생성 시 또는 기존 버킷에 대해 객체 잠금(Object Lock) 기능을 활성화
- AWS Management Console, AWS CLI, 또는 AWS SDK를 사용하여 객체 잠금 활성화

### 4. 법적 보류 설정 예제
```python
import boto3

# S3 클라이언트 생성
s3 = boto3.client('s3')

# 법적 보류 설정
response = s3.put_object_legal_hold(
    Bucket='example-bucket',
    Key='example-object',
    LegalHold={
        'Status': 'ON'
    }
)

print(response)
```

## 결론
- 특정 사용자에게만 법적 보류 권한을 부여하려면 IAM 정책을 사용하여 권한을 부여할 수 있음
- S3 객체 잠금(Object Lock) 기능을 사용하여 법적 보류를 설정할 수 있음
- 이를 통해 법적 요구 사항을 준수하고 데이터의 무결성을 유지할 수 있음