# 1029

# [652] Amazon EMR Cluster에서 노드 종류 
Amazon EMR 클러스터에서는 분산 데이터 처리 작업을 위해 세 가지 주요 노드 유형을 제공합니다. 각 노드는 클러스터 내에서 고유한 역할을 하며, 데이터를 처리하고 저장하는 방식에서 차이가 있습니다.

### 1. **Primary Node (프라이머리 노드)**
   - **역할**: 클러스터의 **마스터 노드**로, 작업을 조정하고 리소스를 관리합니다. 다른 노드의 상태를 모니터링하며, 작업을 분배하고 클러스터 내 모든 데이터 흐름을 조정합니다.
   - **특징**: 클러스터의 제어와 조정 기능을 담당하기 때문에 항상 하나만 존재합니다. Primary 노드가 중단되면 클러스터 전체가 중단될 수 있습니다.
   - **예시**: Spark, Hadoop, Hive 등의 작업을 조정하고 클러스터의 상태를 모니터링하여 작업이 원활하게 이루어지도록 합니다.

### 2. **Core Node (코어 노드)**
   - **역할**: 데이터를 **영구적으로 저장**하고, 실제 데이터 처리 작업을 수행하는 노드입니다.
   - **특징**: 분산 파일 시스템(HDFS)에서 데이터를 저장하고 유지 관리하며, 클러스터의 작업을 분산하여 처리합니다. Core 노드가 중단되면 데이터 손실의 위험이 있으므로 항상 유지됩니다.
   - **예시**: 데이터 분산 저장 및 분석을 위한 노드로, 분석 중간 결과를 저장하거나 결과 데이터를 영구적으로 저장하는 역할을 합니다.

### 3. **Task Node (태스크 노드)**
   - **역할**: **일시적인 데이터 처리 작업**만을 수행하는 노드입니다. 데이터를 저장하지 않고, 단순히 처리 작업만을 위해 추가되는 노드로 **스팟 인스턴스**로 주로 사용됩니다.
   - **특징**: 필요에 따라 수평 확장이 가능하며, 작업 완료 후 언제든지 종료될 수 있습니다. 작업을 확장하여 클러스터의 성능을 높이는 데 기여합니다.
   - **예시**: 일회성 작업이나 특정 분석 작업이 필요할 때 추가로 사용되며, 비용 절감을 위해 필요할 때만 추가하고 작업이 끝나면 종료시킬 수 있습니다.

### 요약
- **Primary Node**: 클러스터 관리 및 작업 조정 (마스터 역할).
- **Core Node**: 영구 데이터 저장 및 처리 (데이터 보존 필요).
- **Task Node**: 일시적 데이터 처리 (저장 없이 처리만).

이러한 노드 구성을 통해 Amazon EMR은 확장성, 성능 최적화, 비용 효율성을 지원하는 유연한 클러스터 구성을 제공합니다.


# [655] ALB 세션 고정 기능
**Application Load Balancer(ALB)**는 **세션 고정 기능(Session Stickiness, 또는 Sticky Sessions)**을 지원합니다. 이를 통해 특정 사용자가 ALB를 통해 연결되면, 이후의 요청들이 동일한 백엔드 인스턴스로 전달되도록 설정할 수 있습니다.

### ALB 세션 고정 방식

ALB에서 세션 고정을 활성화하면, 로드 밸런서는 특정 사용자 요청을 동일한 백엔드 인스턴스로 계속 전달하기 위해 **쿠키 기반**으로 세션을 관리합니다. ALB는 두 가지 세션 고정 쿠키 옵션을 제공합니다.

1. **로드 밸런서 생성 쿠키 (AWSALB 쿠키)**:
   - ALB가 자체적으로 생성한 쿠키를 사용해 세션을 고정합니다.
   - 쿠키의 만료 시간을 설정할 수 있으며, 쿠키가 만료되면 새로운 백엔드 인스턴스로 연결될 수 있습니다.

2. **애플리케이션 생성 쿠키**:
   - 애플리케이션이 생성한 쿠키를 사용해 세션을 고정하는 방식입니다.
   - 애플리케이션 측에서 쿠키를 생성하고 관리해야 하며, 이를 통해 세션 고정이 이루어집니다.
   - 이 방식은 애플리케이션이 세션 유지 관리에 대해 더 많은 제어 권한을 가지게 해줍니다.

### 세션 고정 기능의 사용 예시

세션 고정 기능은 **상태 정보를 유지해야 하는 웹 애플리케이션**에 유용합니다. 예를 들어, 사용자가 로그인한 상태나 장바구니와 같은 세션 데이터를 특정 서버에 저장하는 애플리케이션에서는 세션 고정을 통해 일관된 사용자 경험을 보장할 수 있습니다.

세션 고정은 AWS 콘솔이나 CLI, SDK를 통해 ALB 설정 시 활성화할 수 있으며, 만료 시간 등 세부 설정도 조정이 가능합니다.


# [657] 관리형 접두사 목록으로 네트워크 CIDR 블록 통합 및 관리
- 관리형 접두사 목록은 하나 이상의 CIDR 블록 세트
- 접두사 목록을 사용하면 보안 그룹과 라우팅 테이블을 보다 쉽게 구성하고 유지 관리할 수 있dma
- 자주 사용하는 IP 주소에서 접두사 목록을 만들고, 이를 개별적으로 참조하지 않고 보안 그룹 규칙 및 경로의 집합으로 참조할 수 있음
- 예를 들어, 서로 다른 CIDR 블록은 있지만 포트와 프로토콜은 동일한 보안 그룹 규칙을 접두사 목록을 사용하는 단일 규칙으로 통합할 수 있음
- 네트워크를 확장하고 다른 CIDR 블록의 트래픽을 허용해야 하는 경우, 관련 접두사 목록을 업데이트할 수 있으며 그러면 접두사 목록을 사용하는 모든 보안 그룹이 업데이트됨
- Resource Access Manager(RAM)를 사용하여 다른 AWS 계정과 함께 관리형 접두사 목록을 사용할 수도 있음

## 접두사 목록유형이 있습니다.
- **고객 관리형 접두사 목록** 
   - 사용자가 정의하고 관리하는 IP 주소 범위 세트
   - 접두사 목록을 다른 AWS 계정과 공유하여 해당 계정이 자체 리소스의 접두사 목록을 참조하도록 할 수 있음

- **AWS 관리형 접두사 목록**
   - AWS 서비스의 IP 주소 범위 세트
   - AWS 관리형 접두사 목록은 생성, 수정, 공유 또는 삭제할 수 없음


# [658] FSx 종류별 프로토콜 지원
- Lustre: NFS, SMB 등의 멀티 프로토콜 지원하지 않음
- OpenZFS: NFS는 지원 하지만, SMB 지원하지 않음
- **NetApp ONTAP**: NFS, SMB 등의 멀티 프로토콜 지원

# [658] 배치 그룹 특성
- 파티션 배치 그룹: 인스턴스를 여러 파티션에 배치하는 방법으로, 고가요엉을 달성하며 성능 향상은 미약
- 클러스터 배치 그룹: 인스턴스를 **단일 가용 영역** 내에 배치하여 **지연 시간을 최소화하고 네트워크 성능을 최대화**하는 데 적합

# [663] VPC 엔드포인트
- VPC 엔드포인트: AWS 서비스와 VPC 간의 트래픽이 인터넷을 거치지 않고 안전하게 VPC 내부 네트워크에서 이루어지도록 하는 가상 디바이스
- Gateway 엔드포인트: 라우팅 테이블에 S3나 DynamoDB에 대한 엔트리를 추가하여 트래픽을 라우팅해야 하며, 보안 그룹을 직접적으로 적용할 수 없음
- Interface 엔드포인트: 보안 그룹을 설정해 인바운드 및 아웃바운드 트래픽을 제어할 수 있음

# [702] FSx for Lustre와 S3의 통합
- FSx 제품군 중에 S3와 통합이 가능한 제품은 FSx for Lustre 밖에 없음
- 자주 사용하는 데이터는 Lustre에 두고, 처리 후 결과물이나 더이상 필요하지 않은 데이터는 S3에 저장하여 비용을 절감할 수 있음
- FSx for Lustre는 고성능을 제공하지만, 저장 비용이 상대적으로 높음
- S3는 저비용의 객체 스토리지로, 대규모 데이터를 장기 저장하는 데 적합함
- Lustre는 고성능을 제공하지만, 확장성과 데이터 이동에 있어 S3만큼 유연하지 않아 데이터 보관용으로는 S3가 더 효율적

# [711] RDS Proxy는 Aurora에서도 사용 가능
- RDS Proxy는 Aurora 클러스터의 장애 조치 시간이 줄어들도록 도와주며, 클라이언트 애플리케이션이 중단 없이 연결을 유지할 수 있또록 지원함


# [712] DNS 레코드 유형
- **A**: 도메인 이름을 IPv4 주소로 매핑
- **AAAA**: 도메인 이름을 IPv6 주소로 매핑
- **CNAME**: 도메인 이름을 다른 도메인 이름으로 매핑
- **MX**: 메일 서버를 지정하여 이메일 전송 관리
- **NS**: 도메인을 관리하는 DNS 서버 정보를 제공
- **PTR**: IP주소를 도메인 이름으로 매핑

# [712] Amazon Route 53 Resolver에 대해
- AWS의 하이브리드 클라우드 환경에서 DNS 해석 기능을 제공하는 서비스
- AWS VPC와 온프레미스 네트워크 간의 DNS 요청을 처리하도록 설계
- 온프레미스 리소스와 VPC 리소스 간에 안전한 사설 네트워크 통신을 가능하게 함
- **인바운드 엔드포인트**: 온프레미스 네트워크 → VPC 내 리소스에 대한 DNS 조회
- **아웃바운드 엔드포인트**: VPC 내 → 온프레미스 네트워크의 DNS 요청 전달
- **Resolver 규칙**: 특정 도메인에 대한 DNS 쿼리를 온프레미스 DNS 서버로 전달할지, 인터넷으로 전달할지 정의

# [712] Route 53 호스티드 존
- Route 53에서 특정 도메인 이름을 관리하는데 필요한 모든 DNS 레코드를 저장하는 컨테이너
- **공개 호스티드 존**: 공개적으로 인터넷에서 접근 가능한 도메인 이름을 위한 호스티드 존
- **사설 호스티드 존**: 특정 VPC 내에서만 접근 가능한 도메인 이름을 위한 호스티드 존

# [714] Least Outstanding Requests
- 현재 처리 중인 요청 수가 가장 적은 서버에게 새로운 요청을 전달하는 방식

# [718] AWS Outposts란?
- AWS의 관리형 서비스로, AWS 인프라, 서비스 및 운영 모델을 온프레미스 데이터 센터나 코로케이션 시설에 확장할 수 있도록 설계
- AWS의 다양한 서비스(EC2, EBS, RDS 등)를 온프레미스 환경에서 사용할 수 있게 해주며, 이를 통해 기존 AWS 클라우드와 동일한 API 및 도구를 사용할 수 있음
- **하이브리드 클라우드 구현**: 온프레미스 환경과 AWS 클라우드를 원활하게 통합할 수 있으며, 애플리케이션을 클라우드로 확장하거나 복제하는 데 유용

# [719]
- 위에 [658]번 참고: ONTAP

# [720] all-at-once 배포 전략
- 전체 애플리케이션을 한 번에 동시에 업데이트하는 방법

# [726] What is multipart upload?
- In Amazon S3, allows to upload large files by splitting them into smaller parts and uploading them simultaneously
- efficiently transmitting large files, especially in unstable network environments