# 백로그 메트릭 (Backlog Metric)

## 개요
- 백로그 메트릭은 시스템에서 처리해야 할 작업의 대기 상태를 나타내는 지표
- 주로 큐잉 시스템에서 사용되며, 현재 처리되지 않고 대기 중인 작업의 수를 측정

## 주요 특징
- **대기 중인 작업 수**: 현재 처리되지 않고 대기 중인 작업의 수를 나타냄
- **처리 지연 파악**: 시스템이 얼마나 빠르게 작업을 처리하고 있는지, 지연이 발생하고 있는지를 파악
- **자동 확장**: 백로그 메트릭을 기반으로 시스템의 Auto Scaling을 설정하여, 대기 중인 작업이 많아지면 자동으로 리소스를 확장하고, 작업이 줄어들면 리소스를 축소

## 사용 사례
- **메시지 큐**: Amazon SQS와 같은 메시지 큐에서 백로그 메트릭을 사용하여 대기 중인 메시지 수를 모니터링하고, 이를 기반으로 큐를 처리하는 소비자 인스턴스를 확장하거나 축소
- **작업 큐**: 비동기 작업을 처리하는 시스템에서 백로그 메트릭을 사용하여 대기 중인 작업 수를 모니터링하고, 작업 처리 속도를 조절
- **웹 서버**: 웹 서버의 요청 대기열에서 백로그 메트릭을 사용하여 현재 대기 중인 요청 수를 모니터링하고, 서버 인스턴스를 확장하거나 축소

## 예시
### Amazon SQS에서 백로그 메트릭을 사용하는 예시
1. **큐 생성**: 주문 수집 및 주문 처리를 위한 두 개의 SQS 큐를 생성
2. **메트릭 생성**: 각 큐에 대해 대기 중인 메시지 수를 나타내는 백로그 메트릭을 생성
3. **Auto Scaling 설정**: 백로그 메트릭을 기반으로 Auto Scaling 그룹을 설정하여, 대기 중인 메시지 수가 일정 수준을 초과하면 인스턴스를 추가하고, 일정 수준 이하로 떨어지면 인스턴스를 제거

## 요약
- 백로그 메트릭은 시스템의 부하 상태를 실시간으로 모니터링하고, 자동으로 리소스를 조절하여 효율적인 운영을 유지하는 데 중요한 역할을 함
- 대기 중인 작업 수, 처리 지연 파악, 자동 확장 등의 주요 특징을 제공하여 시스템의 성능을 최적화할 수 있음