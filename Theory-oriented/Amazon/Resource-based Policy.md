# 리소스 기반 정책

- AWS 리소스에 직접 연결되어 해당 리소스에 대한 접근을 제어하는 정책
- 주로 S3 버킷, SQS 큐, SNS 주제 등과 같은 리소스에 적용됨

## 주요 기능 및 특징
- 리소스 수준에서 접근 제어
  - 특정 리소스에 대한 접근 권한을 정의하고 제어할 수 있음
  - 리소스 소유자가 아닌 사용자나 계정에도 접근 권한을 부여할 수 있음

- JSON 형식의 정책 문서
  - 정책은 JSON 형식으로 작성됨
  - 정책 문서에는 하나 이상의 허용(Allow) 또는 거부(Deny) 문이 포함됨

- 세부적인 권한 설정
  - 특정 작업(Action)에 대한 허용 또는 거부를 정의할 수 있음
  - 특정 조건(Condition)을 기반으로 접근을 제어할 수 있음

- IAM 정책과의 차이점
  - IAM 정책은 사용자, 그룹, 역할에 연결되어 접근을 제어하는 반면, 리소스 기반 정책은 리소스 자체에 연결됨
  - IAM 정책과 리소스 기반 정책을 함께 사용하여 세부적인 접근 제어를 구현할 수 있음

## 구성
- 리소스 기반 정책은 JSON 형식으로 작성됨
- 정책 문서에는 버전(Version), 설명(Comment), 정책 문(Statement) 등이 포함됨
- 정책 문(Statement)에는 효과(Effect), 작업(Action), 리소스(Resource), 조건(Condition) 등이 포함됨

## 작동 방식
1. 리소스에 대한 리소스 기반 정책을 작성함
2. 정책을 리소스에 연결함
3. 정책에 정의된 권한에 따라 리소스에 대한 접근이 허용되거나 거부됨
4. IAM 정책과 함께 사용하여 세부적인 접근 제어를 구현할 수 있음

## 다른 서비스와의 연관성
- AWS Identity and Access Management (IAM): IAM 정책과 함께 사용하여 세부적인 접근 제어를 구현할 수 있음
- Amazon S3, Amazon SQS, Amazon SNS 등: 리소스 기반 정책을 적용할 수 있는 주요 서비스

## 사용 사례
- S3 버킷에 대한 접근 제어
  - 예: 특정 사용자나 계정에 S3 버킷에 대한 읽기/쓰기 권한 부여
- SQS 큐에 대한 접근 제어
  - 예: 특정 역할에 SQS 큐에 메시지를 전송할 수 있는 권한 부여
- SNS 주제에 대한 접근 제어
  - 예: 특정 계정에 SNS 주제에 메시지를 게시할 수 있는 권한 부여

## 결론
- 리소스 기반 정책은 특정 리소스에 대한 접근을 제어하는 강력한 도구임
- IAM 정책과 함께 사용하여 세부적인 접근 제어를 구현할 수 있음

## 예제 코드
```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Principal": {
        "AWS": "arn:aws:iam::123456789012:user/Alice"
      },
      "Action": "s3:GetObject",
      "Resource": "arn:aws:s3:::example-bucket/*"
    }
  ]
}